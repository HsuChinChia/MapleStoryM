<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />

    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>說喀就喀 體檢中心</title>
</head>

<body>
    <style>
        .el-input-group__prepend {
            width: 110px;
        }
    </style>
    <div id="app">

        <div class="container p-2 w-100">
            <div class="row">

                <el-card class="box-card w-100  text-center">
                    <div slot="header" class="clearfix">
                        <h2 style="color:#F56C6C">說喀就喀 體檢中心</h2>
                        <p style="color:#909399">
                            參考巴哈傷害公式表:https://forum.gamer.com.tw/C.php?bsn=29461&snA=14900
                        </p>
                        <p style="color:#909399">
                            因應裝備調整、星火調整會不太清楚傷害是否變高還是變低。則使用如下填入表功數值即可算出
                        </p>
                    </div>
                    <div class="row">
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="物/魔攻" v-model="attack">
                                <template slot="prepend">物/魔攻</template>
                            </el-input>
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="物/魔攻%" v-model="attack_percent">
                                <template slot="prepend">物/魔攻%</template>
                            </el-input>
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="物/魔傷%" v-model="damage">
                                <template slot="prepend">物/魔傷%</template>
                            </el-input>
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="B傷%" v-model="boss_damage">
                                <template slot="prepend">B傷%</template>
                            </el-input>
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="爆傷%" v-model="crit">
                                <template slot="prepend">爆傷%</template>
                            </el-input>
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="技能傷害%" v-model="skill_percent">
                                <template slot="prepend">技能傷害%</template>
                            </el-input>
                        </div>

                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input type="number" placeholder="終傷%" v-model="finally_attack">
                                <template slot="prepend">終傷%</template>
                            </el-input>
                        </div>

                        <div class="col-12 col-md-4 text-center mb-1">
                            <el-input max="100" type="number" placeholder="爆率" v-model="crit_percent">
                                <template slot="prepend">爆率</template>
                            </el-input>
                        </div>
                    </div>
                    <div class="row mt-1">
                        <!-- attack * skill_percent * (1+damage) *(1+attack_percent+skill_percent*(boss_damage+10%*0)) * (1+finally_attack) -->
                        <div class="col-12 col-md-4 text-center mb-1" style="color:#67C23A">
                            BOSS傷害: {{ this.normal()}}
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1" style="color:#E6A23C">
                            爆擊傷害: {{this.crit_damage()}}
                        </div>
                        <div class="col-12 col-md-4 text-center mb-1" style="color:#606266">
                            期望值輸出(計算爆率): {{this.expect()}}
                        </div>
                    </div>
                </el-card>
            </div>
        </div>

    </div>

</body>


<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>



<script>
    var app = new Vue({
        el: '#app',
        data: {
            attack: 30000,
            attack_percent: 100,
            damage: 100,
            boss_damage: 100,
            crit: 100,
            skill_percent: 300,
            finally_attack: 10,
            crit_percent: 50,
        },
        methods: {
            normal() {
                const total = this.attack * (this.skill_percent / 100) * (1 + (this.damage / 100)) *
                    (1 + (this.attack_percent / 100) + (this.skill_percent / 100) * ((this.boss_damage / 100) + 10 * 0)) * (1 + (this.finally_attack / 100))
                return Number(total).toFixed(2);
            },
            crit_damage() {
                const normal = this.attack * (this.skill_percent / 100) * (1 + (this.damage / 100)) *
                    (1 + (this.attack_percent / 100) + (this.skill_percent / 100) * ((this.boss_damage / 100) + 0.1 * 0)) * (1 + (this.finally_attack / 100))
                const total = normal * (1 + (this.crit / 100) + 0.2)
                return Number(total).toFixed(2);
            },
            expect() {
                const normal = this.attack * (this.skill_percent / 100) * (1 + (this.damage / 100)) *
                    (1 + (this.attack_percent / 100) + (this.skill_percent / 100) * ((this.boss_damage / 100) + 0.1 * 0)) * (1 + (this.finally_attack / 100))
                const crit_damage = normal * (1 + (this.crit / 100) + 0.2);
                const total = (1 - (this.crit_percent / 100)) * normal + (this.crit_percent / 100) * crit_damage;
                return Number(total).toFixed(2);
            }

        },
        mounted() {

        }

    })

</script>






<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script> -->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">









<!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->

</html>